var __legacyDecorateClassTS=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};var __legacyMetadataTS=(k,v)=>{if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(k,v)};var global=globalThis,debugLogEvent=(event)=>{if(!global.emitLitDebugLogEvents)return;global.dispatchEvent(new CustomEvent("lit-debug",{detail:event}))},debugLogRenderId=0,issueWarning;global.litIssuedWarnings??=new Set,issueWarning=(code,warning)=>{if(warning+=code?` See https://lit.dev/msg/${code} for more information.`:"",!global.litIssuedWarnings.has(warning)&&!global.litIssuedWarnings.has(code))console.warn(warning),global.litIssuedWarnings.add(warning)},queueMicrotask(()=>{issueWarning("dev-mode","Lit is in dev mode. Not recommended for production!")});var wrap=global.ShadyDOM?.inUse&&global.ShadyDOM?.noPatch===!0?global.ShadyDOM.wrap:(node)=>node,trustedTypes=global.trustedTypes,policy=trustedTypes?trustedTypes.createPolicy("lit-html",{createHTML:(s)=>s}):void 0,identityFunction=(value)=>value,noopSanitizer=(_node,_name,_type)=>identityFunction,setSanitizer=(newSanitizer)=>{if(sanitizerFactoryInternal!==noopSanitizer)throw Error("Attempted to overwrite existing lit-html security policy. setSanitizeDOMValueFactory should be called at most once.");sanitizerFactoryInternal=newSanitizer},_testOnlyClearSanitizerFactoryDoNotCallOrElse=()=>{sanitizerFactoryInternal=noopSanitizer},createSanitizer=(node,name,type)=>{return sanitizerFactoryInternal(node,name,type)},boundAttributeSuffix="$lit$",marker=`lit$${Math.random().toFixed(9).slice(2)}$`,markerMatch="?"+marker,nodeMarker=`<${markerMatch}>`,d=document,createMarker=()=>d.createComment(""),isPrimitive=(value)=>value===null||typeof value!="object"&&typeof value!="function",isArray=Array.isArray,isIterable=(value)=>isArray(value)||typeof value?.[Symbol.iterator]==="function",SPACE_CHAR=`[ 	
\f\r]`,ATTR_VALUE_CHAR=`[^ 	
\f\r"'\`<>=]`,NAME_CHAR=`[^\\s"'>=/]`,textEndRegex=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,COMMENT_START=1,TAG_NAME=2,DYNAMIC_TAG_NAME=3,commentEndRegex=/-->/g,comment2EndRegex=/>/g,tagEndRegex=new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|("|')|))|$)`,"g"),ENTIRE_MATCH=0,ATTRIBUTE_NAME=1,SPACES_AND_EQUALS=2,QUOTE_CHAR=3,singleQuoteAttrEndRegex=/'/g,doubleQuoteAttrEndRegex=/"/g,rawTextElement=/^(?:script|style|textarea|title)$/i,HTML_RESULT=1,SVG_RESULT=2,MATHML_RESULT=3,ATTRIBUTE_PART=1,CHILD_PART=2,PROPERTY_PART=3,BOOLEAN_ATTRIBUTE_PART=4,EVENT_PART=5,ELEMENT_PART=6,COMMENT_PART=7,tag=(type)=>(strings,...values)=>{if(strings.some((s)=>s===void 0))console.warn(`Some template strings are undefined.
This is probably caused by illegal octal escape sequences.`);if(values.some((val)=>val?._$litStatic$))issueWarning("",`Static values 'literal' or 'unsafeStatic' cannot be used as values to non-static templates.
Please use the static 'html' tag function. See https://lit.dev/docs/templates/expressions/#static-expressions`);return{["_$litType$"]:type,strings,values}},html=tag(HTML_RESULT),svg=tag(SVG_RESULT),mathml=tag(MATHML_RESULT),noChange=Symbol.for("lit-noChange"),nothing=Symbol.for("lit-nothing"),templateCache=new WeakMap,walker=d.createTreeWalker(d,129),sanitizerFactoryInternal=noopSanitizer;function trustFromTemplateString(tsa,stringFromTSA){if(!isArray(tsa)||!tsa.hasOwnProperty("raw")){let message="invalid template strings array";throw message=`
          Internal Error: expected template strings to be an array
          with a 'raw' field. Faking a template strings array by
          calling html or svg like an ordinary function is effectively
          the same as calling unsafeHtml and can lead to major security
          issues, e.g. opening your code up to XSS attacks.
          If you're using the html or svg tagged template functions normally
          and still seeing this error, please file a bug at
          https://github.com/lit/lit/issues/new?template=bug_report.md
          and include information about your build tooling, if any.
        `.trim().replace(/\n */g,`
`),Error(message)}return policy!==void 0?policy.createHTML(stringFromTSA):stringFromTSA}var getTemplateHtml=(strings,type)=>{let l=strings.length-1,attrNames=[],html2=type===SVG_RESULT?"<svg>":type===MATHML_RESULT?"<math>":"",rawTextEndRegex,regex=textEndRegex;for(let i=0;i<l;i++){let s=strings[i],attrNameEndIndex=-1,attrName,lastIndex=0,match;while(lastIndex<s.length){if(regex.lastIndex=lastIndex,match=regex.exec(s),match===null)break;if(lastIndex=regex.lastIndex,regex===textEndRegex){if(match[COMMENT_START]==="!--")regex=commentEndRegex;else if(match[COMMENT_START]!==void 0)regex=comment2EndRegex;else if(match[TAG_NAME]!==void 0){if(rawTextElement.test(match[TAG_NAME]))rawTextEndRegex=new RegExp(`</${match[TAG_NAME]}`,"g");regex=tagEndRegex}else if(match[DYNAMIC_TAG_NAME]!==void 0)throw Error("Bindings in tag names are not supported. Please use static templates instead. See https://lit.dev/docs/templates/expressions/#static-expressions")}else if(regex===tagEndRegex)if(match[ENTIRE_MATCH]===">")regex=rawTextEndRegex??textEndRegex,attrNameEndIndex=-1;else if(match[ATTRIBUTE_NAME]===void 0)attrNameEndIndex=-2;else attrNameEndIndex=regex.lastIndex-match[SPACES_AND_EQUALS].length,attrName=match[ATTRIBUTE_NAME],regex=match[QUOTE_CHAR]===void 0?tagEndRegex:match[QUOTE_CHAR]==='"'?doubleQuoteAttrEndRegex:singleQuoteAttrEndRegex;else if(regex===doubleQuoteAttrEndRegex||regex===singleQuoteAttrEndRegex)regex=tagEndRegex;else if(regex===commentEndRegex||regex===comment2EndRegex)regex=textEndRegex;else regex=tagEndRegex,rawTextEndRegex=void 0}console.assert(attrNameEndIndex===-1||regex===tagEndRegex||regex===singleQuoteAttrEndRegex||regex===doubleQuoteAttrEndRegex,"unexpected parse state B");let end=regex===tagEndRegex&&strings[i+1].startsWith("/>")?" ":"";html2+=regex===textEndRegex?s+nodeMarker:attrNameEndIndex>=0?(attrNames.push(attrName),s.slice(0,attrNameEndIndex)+boundAttributeSuffix+s.slice(attrNameEndIndex))+marker+end:s+marker+(attrNameEndIndex===-2?i:end)}let htmlResult=html2+(strings[l]||"<?>")+(type===SVG_RESULT?"</svg>":type===MATHML_RESULT?"</math>":"");return[trustFromTemplateString(strings,htmlResult),attrNames]};class Template{constructor({strings,["_$litType$"]:type},options){this.parts=[];let node,nodeIndex=0,attrNameIndex=0,partCount=strings.length-1,parts=this.parts,[html2,attrNames]=getTemplateHtml(strings,type);if(this.el=Template.createElement(html2,options),walker.currentNode=this.el.content,type===SVG_RESULT||type===MATHML_RESULT){let wrapper=this.el.content.firstChild;wrapper.replaceWith(...wrapper.childNodes)}while((node=walker.nextNode())!==null&&parts.length<partCount){if(node.nodeType===1){{let tag2=node.localName;if(/^(?:textarea|template)$/i.test(tag2)&&node.innerHTML.includes(marker)){let m=`Expressions are not supported inside \`${tag2}\` elements. See https://lit.dev/msg/expression-in-${tag2} for more information.`;if(tag2==="template")throw Error(m);else issueWarning("",m)}}if(node.hasAttributes()){for(let name of node.getAttributeNames())if(name.endsWith(boundAttributeSuffix)){let realName=attrNames[attrNameIndex++],statics=node.getAttribute(name).split(marker),m=/([.?@])?(.*)/.exec(realName);parts.push({type:ATTRIBUTE_PART,index:nodeIndex,name:m[2],strings:statics,ctor:m[1]==="."?PropertyPart:m[1]==="?"?BooleanAttributePart:m[1]==="@"?EventPart:AttributePart}),node.removeAttribute(name)}else if(name.startsWith(marker))parts.push({type:ELEMENT_PART,index:nodeIndex}),node.removeAttribute(name)}if(rawTextElement.test(node.tagName)){let strings2=node.textContent.split(marker),lastIndex=strings2.length-1;if(lastIndex>0){node.textContent=trustedTypes?trustedTypes.emptyScript:"";for(let i=0;i<lastIndex;i++)node.append(strings2[i],createMarker()),walker.nextNode(),parts.push({type:CHILD_PART,index:++nodeIndex});node.append(strings2[lastIndex],createMarker())}}}else if(node.nodeType===8)if(node.data===markerMatch)parts.push({type:CHILD_PART,index:nodeIndex});else{let i=-1;while((i=node.data.indexOf(marker,i+1))!==-1)parts.push({type:COMMENT_PART,index:nodeIndex}),i+=marker.length-1}nodeIndex++}if(attrNames.length!==attrNameIndex)throw Error('Detected duplicate attribute bindings. This occurs if your template has duplicate attributes on an element tag. For example "<input ?disabled=${true} ?disabled=${false}>" contains a duplicate "disabled" attribute. The error was detected in the following template: \n`'+strings.join("${...}")+"`");debugLogEvent&&debugLogEvent({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings})}static createElement(html2,_options){let el=d.createElement("template");return el.innerHTML=html2,el}}function resolveDirective(part,value,parent=part,attributeIndex){if(value===noChange)return value;let currentDirective=attributeIndex!==void 0?parent.__directives?.[attributeIndex]:parent.__directive,nextDirectiveConstructor=isPrimitive(value)?void 0:value._$litDirective$;if(currentDirective?.constructor!==nextDirectiveConstructor){if(currentDirective?._$notifyDirectiveConnectionChanged?.(!1),nextDirectiveConstructor===void 0)currentDirective=void 0;else currentDirective=new nextDirectiveConstructor(part),currentDirective._$initialize(part,parent,attributeIndex);if(attributeIndex!==void 0)(parent.__directives??=[])[attributeIndex]=currentDirective;else parent.__directive=currentDirective}if(currentDirective!==void 0)value=resolveDirective(part,currentDirective._$resolve(part,value.values),currentDirective,attributeIndex);return value}class TemplateInstance{constructor(template,parent){this._$parts=[],this._$disconnectableChildren=void 0,this._$template=template,this._$parent=parent}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(options){let{el:{content},parts}=this._$template,fragment=(options?.creationScope??d).importNode(content,!0);walker.currentNode=fragment;let node=walker.nextNode(),nodeIndex=0,partIndex=0,templatePart=parts[0];while(templatePart!==void 0){if(nodeIndex===templatePart.index){let part;if(templatePart.type===CHILD_PART)part=new ChildPart(node,node.nextSibling,this,options);else if(templatePart.type===ATTRIBUTE_PART)part=new templatePart.ctor(node,templatePart.name,templatePart.strings,this,options);else if(templatePart.type===ELEMENT_PART)part=new ElementPart(node,this,options);this._$parts.push(part),templatePart=parts[++partIndex]}if(nodeIndex!==templatePart?.index)node=walker.nextNode(),nodeIndex++}return walker.currentNode=d,fragment}_update(values){let i=0;for(let part of this._$parts){if(part!==void 0)if(debugLogEvent&&debugLogEvent({kind:"set part",part,value:values[i],valueIndex:i,values,templateInstance:this}),part.strings!==void 0)part._$setValue(values,part,i),i+=part.strings.length-2;else part._$setValue(values[i]);i++}}}class ChildPart{get _$isConnected(){return this._$parent?._$isConnected??this.__isConnected}constructor(startNode,endNode,parent,options){this.type=CHILD_PART,this._$committedValue=nothing,this._$disconnectableChildren=void 0,this._$startNode=startNode,this._$endNode=endNode,this._$parent=parent,this.options=options,this.__isConnected=options?.isConnected??!0,this._textSanitizer=void 0}get parentNode(){let parentNode=wrap(this._$startNode).parentNode,parent=this._$parent;if(parent!==void 0&&parentNode?.nodeType===11)parentNode=parent.parentNode;return parentNode}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(value,directiveParent=this){if(this.parentNode===null)throw Error("This `ChildPart` has no `parentNode` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's `innerHTML` or `textContent` can do this.");if(value=resolveDirective(this,value,directiveParent),isPrimitive(value)){if(value===nothing||value==null||value===""){if(this._$committedValue!==nothing)debugLogEvent&&debugLogEvent({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear();this._$committedValue=nothing}else if(value!==this._$committedValue&&value!==noChange)this._commitText(value)}else if(value._$litType$!==void 0)this._commitTemplateResult(value);else if(value.nodeType!==void 0){if(this.options?.host===value){this._commitText("[probable mistake: rendered a template's host in itself (commonly caused by writing ${this} in a template]"),console.warn("Attempted to render the template host",value,"inside itself. This is almost always a mistake, and in dev mode ","we render some warning text. In production however, we'll ","render it, which will usually result in an error, and sometimes ","in the element disappearing from the DOM.");return}this._commitNode(value)}else if(isIterable(value))this._commitIterable(value);else this._commitText(value)}_insert(node){return wrap(wrap(this._$startNode).parentNode).insertBefore(node,this._$endNode)}_commitNode(value){if(this._$committedValue!==value){if(this._$clear(),sanitizerFactoryInternal!==noopSanitizer){let parentNodeName=this._$startNode.parentNode?.nodeName;if(parentNodeName==="STYLE"||parentNodeName==="SCRIPT"){let message="Forbidden";if(parentNodeName==="STYLE")message="Lit does not support binding inside style nodes. This is a security risk, as style injection attacks can exfiltrate data and spoof UIs. Consider instead using css`...` literals to compose styles, and do dynamic styling with css custom properties, ::parts, <slot>s, and by mutating the DOM rather than stylesheets.";else message="Lit does not support binding inside script nodes. This is a security risk, as it could allow arbitrary code execution.";throw Error(message)}}debugLogEvent&&debugLogEvent({kind:"commit node",start:this._$startNode,parent:this._$parent,value,options:this.options}),this._$committedValue=this._insert(value)}}_commitText(value){if(this._$committedValue!==nothing&&isPrimitive(this._$committedValue)){let node=wrap(this._$startNode).nextSibling;if(this._textSanitizer===void 0)this._textSanitizer=createSanitizer(node,"data","property");value=this._textSanitizer(value),debugLogEvent&&debugLogEvent({kind:"commit text",node,value,options:this.options}),node.data=value}else{let textNode=d.createTextNode("");if(this._commitNode(textNode),this._textSanitizer===void 0)this._textSanitizer=createSanitizer(textNode,"data","property");value=this._textSanitizer(value),debugLogEvent&&debugLogEvent({kind:"commit text",node:textNode,value,options:this.options}),textNode.data=value}this._$committedValue=value}_commitTemplateResult(result){let{values,["_$litType$"]:type}=result,template=typeof type==="number"?this._$getTemplate(result):(type.el===void 0&&(type.el=Template.createElement(trustFromTemplateString(type.h,type.h[0]),this.options)),type);if(this._$committedValue?._$template===template)debugLogEvent&&debugLogEvent({kind:"template updating",template,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values}),this._$committedValue._update(values);else{let instance=new TemplateInstance(template,this),fragment=instance._clone(this.options);debugLogEvent&&debugLogEvent({kind:"template instantiated",template,instance,parts:instance._$parts,options:this.options,fragment,values}),instance._update(values),debugLogEvent&&debugLogEvent({kind:"template instantiated and updated",template,instance,parts:instance._$parts,options:this.options,fragment,values}),this._commitNode(fragment),this._$committedValue=instance}}_$getTemplate(result){let template=templateCache.get(result.strings);if(template===void 0)templateCache.set(result.strings,template=new Template(result));return template}_commitIterable(value){if(!isArray(this._$committedValue))this._$committedValue=[],this._$clear();let itemParts=this._$committedValue,partIndex=0,itemPart;for(let item of value){if(partIndex===itemParts.length)itemParts.push(itemPart=new ChildPart(this._insert(createMarker()),this._insert(createMarker()),this,this.options));else itemPart=itemParts[partIndex];itemPart._$setValue(item),partIndex++}if(partIndex<itemParts.length)this._$clear(itemPart&&wrap(itemPart._$endNode).nextSibling,partIndex),itemParts.length=partIndex}_$clear(start=wrap(this._$startNode).nextSibling,from){this._$notifyConnectionChanged?.(!1,!0,from);while(start!==this._$endNode){let n=wrap(start).nextSibling;wrap(start).remove(),start=n}}setConnected(isConnected){if(this._$parent===void 0)this.__isConnected=isConnected,this._$notifyConnectionChanged?.(isConnected);else throw Error("part.setConnected() may only be called on a RootPart returned from render().")}}class AttributePart{get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(element,name,strings,parent,options){if(this.type=ATTRIBUTE_PART,this._$committedValue=nothing,this._$disconnectableChildren=void 0,this.element=element,this.name=name,this._$parent=parent,this.options=options,strings.length>2||strings[0]!==""||strings[1]!=="")this._$committedValue=Array(strings.length-1).fill(new String),this.strings=strings;else this._$committedValue=nothing;this._sanitizer=void 0}_$setValue(value,directiveParent=this,valueIndex,noCommit){let strings=this.strings,change=!1;if(strings===void 0){if(value=resolveDirective(this,value,directiveParent,0),change=!isPrimitive(value)||value!==this._$committedValue&&value!==noChange,change)this._$committedValue=value}else{let values=value;value=strings[0];let i,v;for(i=0;i<strings.length-1;i++){if(v=resolveDirective(this,values[valueIndex+i],directiveParent,i),v===noChange)v=this._$committedValue[i];if(change||=!isPrimitive(v)||v!==this._$committedValue[i],v===nothing)value=nothing;else if(value!==nothing)value+=(v??"")+strings[i+1];this._$committedValue[i]=v}}if(change&&!noCommit)this._commitValue(value)}_commitValue(value){if(value===nothing)wrap(this.element).removeAttribute(this.name);else{if(this._sanitizer===void 0)this._sanitizer=sanitizerFactoryInternal(this.element,this.name,"attribute");value=this._sanitizer(value??""),debugLogEvent&&debugLogEvent({kind:"commit attribute",element:this.element,name:this.name,value,options:this.options}),wrap(this.element).setAttribute(this.name,value??"")}}}class PropertyPart extends AttributePart{constructor(){super(...arguments);this.type=PROPERTY_PART}_commitValue(value){if(this._sanitizer===void 0)this._sanitizer=sanitizerFactoryInternal(this.element,this.name,"property");value=this._sanitizer(value),debugLogEvent&&debugLogEvent({kind:"commit property",element:this.element,name:this.name,value,options:this.options}),this.element[this.name]=value===nothing?void 0:value}}class BooleanAttributePart extends AttributePart{constructor(){super(...arguments);this.type=BOOLEAN_ATTRIBUTE_PART}_commitValue(value){debugLogEvent&&debugLogEvent({kind:"commit boolean attribute",element:this.element,name:this.name,value:!!(value&&value!==nothing),options:this.options}),wrap(this.element).toggleAttribute(this.name,!!value&&value!==nothing)}}class EventPart extends AttributePart{constructor(element,name,strings,parent,options){super(element,name,strings,parent,options);if(this.type=EVENT_PART,this.strings!==void 0)throw Error(`A \`<${element.localName}>\` has a \`@${name}=...\` listener with invalid content. Event listeners in templates must have exactly one expression and no surrounding text.`)}_$setValue(newListener,directiveParent=this){if(newListener=resolveDirective(this,newListener,directiveParent,0)??nothing,newListener===noChange)return;let oldListener=this._$committedValue,shouldRemoveListener=newListener===nothing&&oldListener!==nothing||newListener.capture!==oldListener.capture||newListener.once!==oldListener.once||newListener.passive!==oldListener.passive,shouldAddListener=newListener!==nothing&&(oldListener===nothing||shouldRemoveListener);if(debugLogEvent&&debugLogEvent({kind:"commit event listener",element:this.element,name:this.name,value:newListener,options:this.options,removeListener:shouldRemoveListener,addListener:shouldAddListener,oldListener}),shouldRemoveListener)this.element.removeEventListener(this.name,this,oldListener);if(shouldAddListener)this.element.addEventListener(this.name,this,newListener);this._$committedValue=newListener}handleEvent(event){if(typeof this._$committedValue==="function")this._$committedValue.call(this.options?.host??this.element,event);else this._$committedValue.handleEvent(event)}}class ElementPart{constructor(element,parent,options){this.element=element,this.type=ELEMENT_PART,this._$disconnectableChildren=void 0,this._$parent=parent,this.options=options}get _$isConnected(){return this._$parent._$isConnected}_$setValue(value){debugLogEvent&&debugLogEvent({kind:"commit to element binding",element:this.element,value,options:this.options}),resolveDirective(this,value)}}var _$LH={_boundAttributeSuffix:boundAttributeSuffix,_marker:marker,_markerMatch:markerMatch,_HTML_RESULT:HTML_RESULT,_getTemplateHtml:getTemplateHtml,_TemplateInstance:TemplateInstance,_isIterable:isIterable,_resolveDirective:resolveDirective,_ChildPart:ChildPart,_AttributePart:AttributePart,_BooleanAttributePart:BooleanAttributePart,_EventPart:EventPart,_PropertyPart:PropertyPart,_ElementPart:ElementPart},polyfillSupport=global.litHtmlPolyfillSupportDevMode;polyfillSupport?.(Template,ChildPart);(global.litHtmlVersions??=[]).push("3.3.1");if(global.litHtmlVersions.length>1)queueMicrotask(()=>{issueWarning("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")});var render=(value,container,options)=>{if(container==null)throw TypeError(`The container to render into may not be ${container}`);let renderId=debugLogRenderId++,partOwnerNode=options?.renderBefore??container,part=partOwnerNode._$litPart$;if(debugLogEvent&&debugLogEvent({kind:"begin render",id:renderId,value,container,options,part}),part===void 0){let endNode=options?.renderBefore??null;partOwnerNode._$litPart$=part=new ChildPart(container.insertBefore(createMarker(),endNode),endNode,void 0,options??{})}return part._$setValue(value),debugLogEvent&&debugLogEvent({kind:"end render",id:renderId,value,container,options,part}),part};render.setSanitizer=setSanitizer,render.createSanitizer=createSanitizer,render._testOnlyClearSanitizerFactoryDoNotCallOrElse=_testOnlyClearSanitizerFactoryDoNotCallOrElse;var resolveMethodName=null,_$LH2={boundAttributeSuffix:_$LH._boundAttributeSuffix,marker:_$LH._marker,markerMatch:_$LH._markerMatch,HTML_RESULT:_$LH._HTML_RESULT,getTemplateHtml:_$LH._getTemplateHtml,overrideDirectiveResolve:(directiveClass,resolveOverrideFn)=>class extends directiveClass{_$resolve(_part,values){return resolveOverrideFn(this,values)}},patchDirectiveResolve:(directiveClass,resolveOverrideFn)=>{if(directiveClass.prototype._$resolve.name!==resolveOverrideFn.name){resolveMethodName??=directiveClass.prototype._$resolve.name;for(let proto=directiveClass.prototype;proto!==Object.prototype;proto=Object.getPrototypeOf(proto))if(proto.hasOwnProperty(resolveMethodName)){proto[resolveMethodName]=resolveOverrideFn;return}throw Error("Internal error: It is possible that both dev mode and production mode Lit was mixed together during SSR. Please comment on the issue: https://github.com/lit/lit/issues/4527")}},setDirectiveClass(value,directiveClass){value._$litDirective$=directiveClass},getAttributePartCommittedValue:(part,value,index)=>{let committedValue=noChange;return part._commitValue=(value2)=>committedValue=value2,part._$setValue(value,part,index),committedValue},connectedDisconnectable:(props)=>({...props,_$isConnected:!0}),resolveDirective:_$LH._resolveDirective,AttributePart:_$LH._AttributePart,PropertyPart:_$LH._PropertyPart,BooleanAttributePart:_$LH._BooleanAttributePart,EventPart:_$LH._EventPart,ElementPart:_$LH._ElementPart,TemplateInstance:_$LH._TemplateInstance,isIterable:_$LH._isIterable,ChildPart:_$LH._ChildPart};var PartType={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},directive=(c)=>(...values)=>({["_$litDirective$"]:c,values});class Directive{constructor(_partInfo){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(part,parent,attributeIndex){this.__part=part,this._$parent=parent,this.__attributeIndex=attributeIndex}_$resolve(part,props){return this.update(part,props)}update(_part,props){return this.render(...props)}}var{_ChildPart:ChildPart2}=_$LH,ENABLE_SHADYDOM_NOPATCH=!0,wrap2=ENABLE_SHADYDOM_NOPATCH&&window.ShadyDOM?.inUse&&window.ShadyDOM?.noPatch===!0?window.ShadyDOM.wrap:(node)=>node,isPrimitive2=(value)=>value===null||typeof value!="object"&&typeof value!="function";var isTemplateResult=(value,type)=>type===void 0?value?._$litType$!==void 0:value?._$litType$===type,isCompiledTemplateResult=(value)=>{return value?._$litType$?.h!=null};var isSingleExpression=(part)=>part.strings===void 0,createMarker2=()=>document.createComment(""),insertPart=(containerPart,refPart,part)=>{let container=wrap2(containerPart._$startNode).parentNode,refNode=refPart===void 0?containerPart._$endNode:refPart._$startNode;if(part===void 0){let startNode=wrap2(container).insertBefore(createMarker2(),refNode),endNode=wrap2(container).insertBefore(createMarker2(),refNode);part=new ChildPart2(startNode,endNode,containerPart,containerPart.options)}else{let endNode=wrap2(part._$endNode).nextSibling,oldParent=part._$parent,parentChanged=oldParent!==containerPart;if(parentChanged){part._$reparentDisconnectables?.(containerPart),part._$parent=containerPart;let newConnectionState;if(part._$notifyConnectionChanged!==void 0&&(newConnectionState=containerPart._$isConnected)!==oldParent._$isConnected)part._$notifyConnectionChanged(newConnectionState)}if(endNode!==refNode||parentChanged){let start=part._$startNode;while(start!==endNode){let n=wrap2(start).nextSibling;wrap2(container).insertBefore(start,refNode),start=n}}}return part},setChildPartValue=(part,value,directiveParent=part)=>{return part._$setValue(value,directiveParent),part},RESET_VALUE={},setCommittedValue=(part,value=RESET_VALUE)=>part._$committedValue=value,getCommittedValue=(part)=>part._$committedValue,removePart=(part)=>{part._$clear(),part._$startNode.remove()};var NODE_MODE=!1,{TemplateInstance:TemplateInstance2,isIterable:isIterable2,resolveDirective:resolveDirective2,ChildPart:ChildPart3,ElementPart:ElementPart2}=_$LH2,hydrate=(rootValue,container,options={})=>{if(container._$litPart$!==void 0)throw Error("container already contains a live render");let rootPart=void 0,rootPartMarker=void 0,currentChildPart=void 0,stack=[],walker2=document.createTreeWalker(container,NodeFilter.SHOW_COMMENT),marker2;while((marker2=walker2.nextNode())!==null){let markerText=marker2.data;if(markerText.startsWith("lit-part")){if(stack.length===0&&rootPart!==void 0)throw Error(`There must be only one root part per container. Found a part marker (${marker2}) when we already have a root part marker (${rootPartMarker})`);if(currentChildPart=openChildPart(rootValue,marker2,stack,options),rootPart===void 0)rootPart=currentChildPart;rootPartMarker??=marker2}else if(markerText.startsWith("lit-node"))createAttributeParts(marker2,stack,options);else if(markerText.startsWith("/lit-part")){if(stack.length===1&&currentChildPart!==rootPart)throw Error("internal error");currentChildPart=closeChildPart(marker2,currentChildPart,stack)}}if(rootPart===void 0){let elementMessage=container instanceof ShadowRoot?"{container.host.localName}'s shadow root":container instanceof DocumentFragment?"DocumentFragment":container.localName;console.error(`There should be exactly one root part in a render container, but we didn't find any in ${elementMessage}.`)}container._$litPart$=rootPart},openChildPart=(rootValue,marker2,stack,options)=>{let value,part;if(stack.length===0)part=new ChildPart3(marker2,null,void 0,options),value=rootValue;else{let state=stack[stack.length-1];if(state.type==="template-instance")part=new ChildPart3(marker2,null,state.instance,options),state.instance._$parts.push(part),value=state.result.values[state.instancePartIndex++],state.templatePartIndex++;else if(state.type==="iterable"){part=new ChildPart3(marker2,null,state.part,options);let result=state.iterator.next();if(result.done)throw value=void 0,state.done=!0,Error("Unhandled shorter than expected iterable");else value=result.value;state.part._$committedValue.push(part)}else part=new ChildPart3(marker2,null,state.part,options)}if(value=resolveDirective2(part,value),value===noChange)stack.push({part,type:"leaf"});else if(isPrimitive2(value))stack.push({part,type:"leaf"}),part._$committedValue=value;else if(isTemplateResult(value)){if(isCompiledTemplateResult(value))throw Error("compiled templates are not supported");let markerWithDigest=`lit-part ${digestForTemplateResult(value)}`;if(marker2.data===markerWithDigest){let template=ChildPart3.prototype._$getTemplate(value),instance=new TemplateInstance2(template,part);stack.push({type:"template-instance",instance,part,templatePartIndex:0,instancePartIndex:0,result:value}),part._$committedValue=instance}else throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part")}else if(isIterable2(value))stack.push({part,type:"iterable",value,iterator:value[Symbol.iterator](),done:!1}),part._$committedValue=[];else stack.push({part,type:"leaf"}),part._$committedValue=value==null?"":value;return part},closeChildPart=(marker2,part,stack)=>{if(part===void 0)throw Error("unbalanced part marker");part._$endNode=marker2;let currentState=stack.pop();if(currentState.type==="iterable"){if(!currentState.iterator.next().done)throw Error("unexpected longer than expected iterable")}if(stack.length>0)return stack[stack.length-1].part;else return},createAttributeParts=(comment,stack,options)=>{let match=/lit-node (\d+)/.exec(comment.data),nodeIndex=parseInt(match[1]),node=comment.nextElementSibling;if(node===null)throw Error("could not find node for attribute parts");node.removeAttribute("defer-hydration");let state=stack[stack.length-1];if(state.type==="template-instance"){let instance=state.instance;while(!0){let templatePart=instance._$template.parts[state.templatePartIndex];if(templatePart===void 0||templatePart.type!==PartType.ATTRIBUTE&&templatePart.type!==PartType.ELEMENT||templatePart.index!==nodeIndex)break;if(templatePart.type===PartType.ATTRIBUTE){let instancePart=new templatePart.ctor(node,templatePart.name,templatePart.strings,state.instance,options),value=isSingleExpression(instancePart)?state.result.values[state.instancePartIndex]:state.result.values,noCommit=!(instancePart.type===PartType.EVENT||instancePart.type===PartType.PROPERTY);instancePart._$setValue(value,instancePart,state.instancePartIndex,noCommit),state.instancePartIndex+=templatePart.strings.length-1,instance._$parts.push(instancePart)}else{let instancePart=new ElementPart2(node,state.instance,options);resolveDirective2(instancePart,state.result.values[state.instancePartIndex++]),instance._$parts.push(instancePart)}state.templatePartIndex++}}else throw Error("Hydration value mismatch: Primitive found where TemplateResult expected. This usually occurs due to conditional rendering that resulted in a different value or template being rendered between the server and client.")},digestSize=2,digestForTemplateResult=(templateResult)=>{let hashes=new Uint32Array(digestSize).fill(5381);for(let s of templateResult.strings)for(let i=0;i<s.length;i++)hashes[i%digestSize]=hashes[i%digestSize]*33^s.charCodeAt(i);let str=String.fromCharCode(...new Uint8Array(hashes.buffer));return NODE_MODE?Buffer.from(str,"binary").toString("base64"):btoa(str)};var HYDRATE_INTERNALS_ATTR_PREFIX="hydrate-internals-";globalThis.litElementHydrateSupport=({LitElement})=>{let observedAttributes=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(LitElement),"observedAttributes").get;Object.defineProperty(LitElement,"observedAttributes",{get(){return[...observedAttributes.call(this),"defer-hydration"]}});let attributeChangedCallback=LitElement.prototype.attributeChangedCallback;LitElement.prototype.attributeChangedCallback=function(name,old,value){if(name==="defer-hydration"&&value===null)connectedCallback.call(this);attributeChangedCallback.call(this,name,old,value)};let connectedCallback=LitElement.prototype.connectedCallback;LitElement.prototype.connectedCallback=function(){if(!this.hasAttribute("defer-hydration"))connectedCallback.call(this)};let createRenderRoot=LitElement.prototype.createRenderRoot;LitElement.prototype.createRenderRoot=function(){if(this.shadowRoot)return this._$needsHydration=!0,this.shadowRoot;else return createRenderRoot.call(this)};let update=Object.getPrototypeOf(LitElement.prototype).update;LitElement.prototype.update=function(changedProperties){let value=this.render();if(update.call(this,changedProperties),this._$needsHydration){this._$needsHydration=!1;for(let i=0;i<this.attributes.length;i++){let attr=this.attributes[i];if(attr.name.startsWith(HYDRATE_INTERNALS_ATTR_PREFIX)){let ariaAttr=attr.name.slice(HYDRATE_INTERNALS_ATTR_PREFIX.length);this.removeAttribute(ariaAttr),this.removeAttribute(attr.name)}}hydrate(value,this.renderRoot,this.renderOptions)}else render(value,this.renderRoot,this.renderOptions)}};var global2=globalThis,supportsAdoptingStyleSheets=global2.ShadowRoot&&(global2.ShadyCSS===void 0||global2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,constructionToken=Symbol(),cssTagCache=new WeakMap;class CSSResult{constructor(cssText,strings,safeToken){if(this._$cssResult$=!0,safeToken!==constructionToken)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=cssText,this._strings=strings}get styleSheet(){let styleSheet=this._styleSheet,strings=this._strings;if(supportsAdoptingStyleSheets&&styleSheet===void 0){let cacheable=strings!==void 0&&strings.length===1;if(cacheable)styleSheet=cssTagCache.get(strings);if(styleSheet===void 0){if((this._styleSheet=styleSheet=new CSSStyleSheet).replaceSync(this.cssText),cacheable)cssTagCache.set(strings,styleSheet)}}return styleSheet}toString(){return this.cssText}}var textFromCSSResult=(value)=>{if(value._$cssResult$===!0)return value.cssText;else if(typeof value==="number")return value;else throw Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.`)},unsafeCSS=(value)=>new CSSResult(typeof value==="string"?value:String(value),void 0,constructionToken),css=(strings,...values)=>{let cssText=strings.length===1?strings[0]:values.reduce((acc,v,idx)=>acc+textFromCSSResult(v)+strings[idx+1],strings[0]);return new CSSResult(cssText,strings,constructionToken)},adoptStyles=(renderRoot,styles)=>{if(supportsAdoptingStyleSheets)renderRoot.adoptedStyleSheets=styles.map((s)=>s instanceof CSSStyleSheet?s:s.styleSheet);else for(let s of styles){let style=document.createElement("style"),nonce=global2.litNonce;if(nonce!==void 0)style.setAttribute("nonce",nonce);style.textContent=s.cssText,renderRoot.appendChild(style)}},cssResultFromStyleSheet=(sheet)=>{let cssText="";for(let rule of sheet.cssRules)cssText+=rule.cssText;return unsafeCSS(cssText)},getCompatibleStyle=supportsAdoptingStyleSheets?(s)=>s:(s)=>s instanceof CSSStyleSheet?cssResultFromStyleSheet(s):s;var{is,defineProperty,getOwnPropertyDescriptor,getOwnPropertyNames,getOwnPropertySymbols,getPrototypeOf}=Object,NODE_MODE2=!1,global3=globalThis;if(NODE_MODE2)global3.customElements??=customElements;var DEV_MODE=!0,issueWarning2,trustedTypes2=global3.trustedTypes,emptyStringForBooleanAttribute=trustedTypes2?trustedTypes2.emptyScript:"",polyfillSupport2=DEV_MODE?global3.reactiveElementPolyfillSupportDevMode:global3.reactiveElementPolyfillSupport;if(DEV_MODE)global3.litIssuedWarnings??=new Set,issueWarning2=(code,warning)=>{if(warning+=` See https://lit.dev/msg/${code} for more information.`,!global3.litIssuedWarnings.has(warning)&&!global3.litIssuedWarnings.has(code))console.warn(warning),global3.litIssuedWarnings.add(warning)},queueMicrotask(()=>{if(issueWarning2("dev-mode","Lit is in dev mode. Not recommended for production!"),global3.ShadyDOM?.inUse&&polyfillSupport2===void 0)issueWarning2("polyfill-support-missing","Shadow DOM is being polyfilled via `ShadyDOM` but the `polyfill-support` module has not been loaded.")});var debugLogEvent2=DEV_MODE?(event)=>{if(!global3.emitLitDebugLogEvents)return;global3.dispatchEvent(new CustomEvent("lit-debug",{detail:event}))}:void 0,JSCompiler_renameProperty=(prop,_obj)=>prop,defaultConverter={toAttribute(value,type){switch(type){case Boolean:value=value?emptyStringForBooleanAttribute:null;break;case Object:case Array:value=value==null?value:JSON.stringify(value);break}return value},fromAttribute(value,type){let fromValue=value;switch(type){case Boolean:fromValue=value!==null;break;case Number:fromValue=value===null?null:Number(value);break;case Object:case Array:try{fromValue=JSON.parse(value)}catch(e){fromValue=null}break}return fromValue}},notEqual=(value,old)=>!is(value,old),defaultPropertyDeclaration={attribute:!0,type:String,converter:defaultConverter,reflect:!1,useDefault:!1,hasChanged:notEqual};Symbol.metadata??=Symbol("metadata");global3.litPropertyMetadata??=new WeakMap;class ReactiveElement extends HTMLElement{static addInitializer(initializer){this.__prepare(),(this._initializers??=[]).push(initializer)}static get observedAttributes(){return this.finalize(),this.__attributeToPropertyMap&&[...this.__attributeToPropertyMap.keys()]}static createProperty(name,options=defaultPropertyDeclaration){if(options.state)options.attribute=!1;if(this.__prepare(),this.prototype.hasOwnProperty(name))options=Object.create(options),options.wrapped=!0;if(this.elementProperties.set(name,options),!options.noAccessor){let key=DEV_MODE?Symbol.for(`${String(name)} (@property() cache)`):Symbol(),descriptor=this.getPropertyDescriptor(name,key,options);if(descriptor!==void 0)defineProperty(this.prototype,name,descriptor)}}static getPropertyDescriptor(name,key,options){let{get,set}=getOwnPropertyDescriptor(this.prototype,name)??{get(){return this[key]},set(v){this[key]=v}};if(DEV_MODE&&get==null){if("value"in(getOwnPropertyDescriptor(this.prototype,name)??{}))throw Error(`Field ${JSON.stringify(String(name))} on ${this.name} was declared as a reactive property but it's actually declared as a value on the prototype. Usually this is due to using @property or @state on a method.`);issueWarning2("reactive-property-without-getter",`Field ${JSON.stringify(String(name))} on ${this.name} was declared as a reactive property but it does not have a getter. This will be an error in a future version of Lit.`)}return{get,set(value){let oldValue=get?.call(this);set?.call(this,value),this.requestUpdate(name,oldValue,options)},configurable:!0,enumerable:!0}}static getPropertyOptions(name){return this.elementProperties.get(name)??defaultPropertyDeclaration}static __prepare(){if(this.hasOwnProperty(JSCompiler_renameProperty("elementProperties",this)))return;let superCtor=getPrototypeOf(this);if(superCtor.finalize(),superCtor._initializers!==void 0)this._initializers=[...superCtor._initializers];this.elementProperties=new Map(superCtor.elementProperties)}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this)))return;if(this.finalized=!0,this.__prepare(),this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let props=this.properties,propKeys=[...getOwnPropertyNames(props),...getOwnPropertySymbols(props)];for(let p of propKeys)this.createProperty(p,props[p])}let metadata=this[Symbol.metadata];if(metadata!==null){let properties=litPropertyMetadata.get(metadata);if(properties!==void 0)for(let[p,options]of properties)this.elementProperties.set(p,options)}this.__attributeToPropertyMap=new Map;for(let[p,options]of this.elementProperties){let attr=this.__attributeNameForProperty(p,options);if(attr!==void 0)this.__attributeToPropertyMap.set(attr,p)}if(this.elementStyles=this.finalizeStyles(this.styles),DEV_MODE){if(this.hasOwnProperty("createProperty"))issueWarning2("no-override-create-property","Overriding ReactiveElement.createProperty() is deprecated. The override will not be called with standard decorators");if(this.hasOwnProperty("getPropertyDescriptor"))issueWarning2("no-override-get-property-descriptor","Overriding ReactiveElement.getPropertyDescriptor() is deprecated. The override will not be called with standard decorators")}}static finalizeStyles(styles){let elementStyles=[];if(Array.isArray(styles)){let set=new Set(styles.flat(1/0).reverse());for(let s of set)elementStyles.unshift(getCompatibleStyle(s))}else if(styles!==void 0)elementStyles.push(getCompatibleStyle(styles));return elementStyles}static __attributeNameForProperty(name,options){let attribute=options.attribute;return attribute===!1?void 0:typeof attribute==="string"?attribute:typeof name==="string"?name.toLowerCase():void 0}constructor(){super();this.__instanceProperties=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.__reflectingProperty=null,this.__initialize()}__initialize(){this.__updatePromise=new Promise((res)=>this.enableUpdating=res),this._$changedProperties=new Map,this.__saveInstanceProperties(),this.requestUpdate(),this.constructor._initializers?.forEach((i)=>i(this))}addController(controller){if((this.__controllers??=new Set).add(controller),this.renderRoot!==void 0&&this.isConnected)controller.hostConnected?.()}removeController(controller){this.__controllers?.delete(controller)}__saveInstanceProperties(){let instanceProperties=new Map,elementProperties=this.constructor.elementProperties;for(let p of elementProperties.keys())if(this.hasOwnProperty(p))instanceProperties.set(p,this[p]),delete this[p];if(instanceProperties.size>0)this.__instanceProperties=instanceProperties}createRenderRoot(){let renderRoot=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return adoptStyles(renderRoot,this.constructor.elementStyles),renderRoot}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this.__controllers?.forEach((c)=>c.hostConnected?.())}enableUpdating(_requestedUpdate){}disconnectedCallback(){this.__controllers?.forEach((c)=>c.hostDisconnected?.())}attributeChangedCallback(name,_old,value){this._$attributeToProperty(name,value)}__propertyToAttribute(name,value){let options=this.constructor.elementProperties.get(name),attr=this.constructor.__attributeNameForProperty(name,options);if(attr!==void 0&&options.reflect===!0){let attrValue=(options.converter?.toAttribute!==void 0?options.converter:defaultConverter).toAttribute(value,options.type);if(DEV_MODE&&this.constructor.enabledWarnings.includes("migration")&&attrValue===void 0)issueWarning2("undefined-attribute-value",`The attribute value for the ${name} property is undefined on element ${this.localName}. The attribute will be removed, but in the previous version of \`ReactiveElement\`, the attribute would not have changed.`);if(this.__reflectingProperty=name,attrValue==null)this.removeAttribute(attr);else this.setAttribute(attr,attrValue);this.__reflectingProperty=null}}_$attributeToProperty(name,value){let ctor=this.constructor,propName=ctor.__attributeToPropertyMap.get(name);if(propName!==void 0&&this.__reflectingProperty!==propName){let options=ctor.getPropertyOptions(propName),converter=typeof options.converter==="function"?{fromAttribute:options.converter}:options.converter?.fromAttribute!==void 0?options.converter:defaultConverter;this.__reflectingProperty=propName;let convertedValue=converter.fromAttribute(value,options.type);this[propName]=convertedValue??this.__defaultValues?.get(propName)??convertedValue,this.__reflectingProperty=null}}requestUpdate(name,oldValue,options){if(name!==void 0){if(DEV_MODE&&name instanceof Event)issueWarning2("","The requestUpdate() method was called with an Event as the property name. This is probably a mistake caused by binding this.requestUpdate as an event listener. Instead bind a function that will call it with no arguments: () => this.requestUpdate()");let ctor=this.constructor,newValue=this[name];if(options??=ctor.getPropertyOptions(name),(options.hasChanged??notEqual)(newValue,oldValue)||options.useDefault&&options.reflect&&newValue===this.__defaultValues?.get(name)&&!this.hasAttribute(ctor.__attributeNameForProperty(name,options)))this._$changeProperty(name,oldValue,options);else return}if(this.isUpdatePending===!1)this.__updatePromise=this.__enqueueUpdate()}_$changeProperty(name,oldValue,{useDefault,reflect,wrapped},initializeValue){if(useDefault&&!(this.__defaultValues??=new Map).has(name)){if(this.__defaultValues.set(name,initializeValue??oldValue??this[name]),wrapped!==!0||initializeValue!==void 0)return}if(!this._$changedProperties.has(name)){if(!this.hasUpdated&&!useDefault)oldValue=void 0;this._$changedProperties.set(name,oldValue)}if(reflect===!0&&this.__reflectingProperty!==name)(this.__reflectingProperties??=new Set).add(name)}async __enqueueUpdate(){this.isUpdatePending=!0;try{await this.__updatePromise}catch(e){Promise.reject(e)}let result=this.scheduleUpdate();if(result!=null)await result;return!this.isUpdatePending}scheduleUpdate(){let result=this.performUpdate();if(DEV_MODE&&this.constructor.enabledWarnings.includes("async-perform-update")&&typeof result?.then==="function")issueWarning2("async-perform-update",`Element ${this.localName} returned a Promise from performUpdate(). This behavior is deprecated and will be removed in a future version of ReactiveElement.`);return result}performUpdate(){if(!this.isUpdatePending)return;if(debugLogEvent2?.({kind:"update"}),!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),DEV_MODE){let shadowedProperties=[...this.constructor.elementProperties.keys()].filter((p)=>this.hasOwnProperty(p)&&(p in getPrototypeOf(this)));if(shadowedProperties.length)throw Error(`The following properties on element ${this.localName} will not trigger updates as expected because they are set using class fields: ${shadowedProperties.join(", ")}. Native class fields and some compiled output will overwrite accessors used for detecting changes. See https://lit.dev/msg/class-field-shadowing for more information.`)}if(this.__instanceProperties){for(let[p,value]of this.__instanceProperties)this[p]=value;this.__instanceProperties=void 0}let elementProperties=this.constructor.elementProperties;if(elementProperties.size>0)for(let[p,options]of elementProperties){let{wrapped}=options,value=this[p];if(wrapped===!0&&!this._$changedProperties.has(p)&&value!==void 0)this._$changeProperty(p,void 0,options,value)}}let shouldUpdate=!1,changedProperties=this._$changedProperties;try{if(shouldUpdate=this.shouldUpdate(changedProperties),shouldUpdate)this.willUpdate(changedProperties),this.__controllers?.forEach((c)=>c.hostUpdate?.()),this.update(changedProperties);else this.__markUpdated()}catch(e){throw shouldUpdate=!1,this.__markUpdated(),e}if(shouldUpdate)this._$didUpdate(changedProperties)}willUpdate(_changedProperties){}_$didUpdate(changedProperties){if(this.__controllers?.forEach((c)=>c.hostUpdated?.()),!this.hasUpdated)this.hasUpdated=!0,this.firstUpdated(changedProperties);if(this.updated(changedProperties),DEV_MODE&&this.isUpdatePending&&this.constructor.enabledWarnings.includes("change-in-update"))issueWarning2("change-in-update",`Element ${this.localName} scheduled an update (generally because a property was set) after an update completed, causing a new update to be scheduled. This is inefficient and should be avoided unless the next update can only be scheduled as a side effect of the previous update.`)}__markUpdated(){this._$changedProperties=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.__updatePromise}shouldUpdate(_changedProperties){return!0}update(_changedProperties){this.__reflectingProperties&&=this.__reflectingProperties.forEach((p)=>this.__propertyToAttribute(p,this[p])),this.__markUpdated()}updated(_changedProperties){}firstUpdated(_changedProperties){}}ReactiveElement.elementStyles=[];ReactiveElement.shadowRootOptions={mode:"open"};ReactiveElement[JSCompiler_renameProperty("elementProperties",ReactiveElement)]=new Map;ReactiveElement[JSCompiler_renameProperty("finalized",ReactiveElement)]=new Map;polyfillSupport2?.({ReactiveElement});if(DEV_MODE){ReactiveElement.enabledWarnings=["change-in-update","async-perform-update"];let ensureOwnWarnings=function(ctor){if(!ctor.hasOwnProperty(JSCompiler_renameProperty("enabledWarnings",ctor)))ctor.enabledWarnings=ctor.enabledWarnings.slice()};ReactiveElement.enableWarning=function(warning){if(ensureOwnWarnings(this),!this.enabledWarnings.includes(warning))this.enabledWarnings.push(warning)},ReactiveElement.disableWarning=function(warning){ensureOwnWarnings(this);let i=this.enabledWarnings.indexOf(warning);if(i>=0)this.enabledWarnings.splice(i,1)}}(global3.reactiveElementVersions??=[]).push("2.1.1");if(DEV_MODE&&global3.reactiveElementVersions.length>1)queueMicrotask(()=>{issueWarning2("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")});var JSCompiler_renameProperty2=(prop,_obj)=>prop,DEV_MODE2=!0,global4=globalThis,issueWarning3;if(DEV_MODE2)global4.litIssuedWarnings??=new Set,issueWarning3=(code,warning)=>{if(warning+=` See https://lit.dev/msg/${code} for more information.`,!global4.litIssuedWarnings.has(warning)&&!global4.litIssuedWarnings.has(code))console.warn(warning),global4.litIssuedWarnings.add(warning)};class LitElement extends ReactiveElement{constructor(){super(...arguments);this.renderOptions={host:this},this.__childPart=void 0}createRenderRoot(){let renderRoot=super.createRenderRoot();return this.renderOptions.renderBefore??=renderRoot.firstChild,renderRoot}update(changedProperties){let value=this.render();if(!this.hasUpdated)this.renderOptions.isConnected=this.isConnected;super.update(changedProperties),this.__childPart=render(value,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this.__childPart?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this.__childPart?.setConnected(!1)}render(){return noChange}}LitElement._$litElement$=!0;LitElement[JSCompiler_renameProperty2("finalized",LitElement)]=!0;global4.litElementHydrateSupport?.({LitElement});var polyfillSupport3=DEV_MODE2?global4.litElementPolyfillSupportDevMode:global4.litElementPolyfillSupport;polyfillSupport3?.({LitElement});(global4.litElementVersions??=[]).push("4.2.1");if(DEV_MODE2&&global4.litElementVersions.length>1)queueMicrotask(()=>{issueWarning3("multiple-versions","Multiple versions of Lit loaded. Loading multiple versions is not recommended.")});var isServer=!1;var customElement=(tagName)=>(classOrTarget,context)=>{if(context!==void 0)context.addInitializer(()=>{customElements.define(tagName,classOrTarget)});else customElements.define(tagName,classOrTarget)};var DEV_MODE3=!0,issueWarning4;if(DEV_MODE3)globalThis.litIssuedWarnings??=new Set,issueWarning4=(code,warning)=>{if(warning+=` See https://lit.dev/msg/${code} for more information.`,!globalThis.litIssuedWarnings.has(warning)&&!globalThis.litIssuedWarnings.has(code))console.warn(warning),globalThis.litIssuedWarnings.add(warning)};var legacyProperty=(options,proto,name)=>{let hasOwnProperty=proto.hasOwnProperty(name);return proto.constructor.createProperty(name,options),hasOwnProperty?Object.getOwnPropertyDescriptor(proto,name):void 0},defaultPropertyDeclaration2={attribute:!0,type:String,converter:defaultConverter,reflect:!1,hasChanged:notEqual},standardProperty=(options=defaultPropertyDeclaration2,target,context)=>{let{kind,metadata}=context;if(DEV_MODE3&&metadata==null)issueWarning4("missing-class-metadata",`The class ${target} is missing decorator metadata. This could mean that you're using a compiler that supports decorators but doesn't support decorator metadata, such as TypeScript 5.1. Please update your compiler.`);let properties=globalThis.litPropertyMetadata.get(metadata);if(properties===void 0)globalThis.litPropertyMetadata.set(metadata,properties=new Map);if(kind==="setter")options=Object.create(options),options.wrapped=!0;if(properties.set(context.name,options),kind==="accessor"){let{name}=context;return{set(v){let oldValue=target.get.call(this);target.set.call(this,v),this.requestUpdate(name,oldValue,options)},init(v){if(v!==void 0)this._$changeProperty(name,void 0,options,v);return v}}}else if(kind==="setter"){let{name}=context;return function(value){let oldValue=this[name];target.call(this,value),this.requestUpdate(name,oldValue,options)}}throw Error(`Unsupported decorator location: ${kind}`)};function property(options){return(protoOrTarget,nameOrContext)=>{return typeof nameOrContext==="object"?standardProperty(options,protoOrTarget,nameOrContext):legacyProperty(options,protoOrTarget,nameOrContext)}}function state(options){return property({...options,state:!0,attribute:!1})}var desc=(obj,name,descriptor)=>{if(descriptor.configurable=!0,descriptor.enumerable=!0,Reflect.decorate&&typeof name!=="object")Object.defineProperty(obj,name,descriptor);return descriptor};var DEV_MODE4=!0,issueWarning5;if(DEV_MODE4)globalThis.litIssuedWarnings??=new Set,issueWarning5=(code,warning)=>{if(warning+=code?` See https://lit.dev/msg/${code} for more information.`:"",!globalThis.litIssuedWarnings.has(warning)&&!globalThis.litIssuedWarnings.has(code))console.warn(warning),globalThis.litIssuedWarnings.add(warning)};function query(selector,cache){return(protoOrTarget,nameOrContext,descriptor)=>{let doQuery=(el)=>{let result=el.renderRoot?.querySelector(selector)??null;if(DEV_MODE4&&result===null&&cache&&!el.hasUpdated){let name=typeof nameOrContext==="object"?nameOrContext.name:nameOrContext;issueWarning5("",`@query'd field ${JSON.stringify(String(name))} with the 'cache' flag set for selector '${selector}' has been accessed before the first update and returned null. This is expected if the renderRoot tree has not been provided beforehand (e.g. via Declarative Shadow DOM). Therefore the value hasn't been cached.`)}return result};if(cache){let{get,set}=typeof nameOrContext==="object"?protoOrTarget:descriptor??(()=>{let key=DEV_MODE4?Symbol(`${String(nameOrContext)} (@query() cache)`):Symbol();return{get(){return this[key]},set(v){this[key]=v}}})();return desc(protoOrTarget,nameOrContext,{get(){let result=get.call(this);if(result===void 0){if(result=doQuery(this),result!==null||this.hasUpdated)set.call(this,result)}return result}})}else return desc(protoOrTarget,nameOrContext,{get(){return doQuery(this)}})}}var SERVER_ACTIONS_PREFIX="server-actions",actionEndpoints=[],action=({httpVerb="get",returnType="JSON"}={})=>(proto,actionName,descriptor)=>{actionName=actionName.toString();let privateKey=`#${actionName}`,componentName=proto.constructor.name;if(proto[privateKey]=proto[actionName],isServer)createActionEndpoint(httpVerb,componentName,actionName,returnType);Object.defineProperty(proto,actionName,{get:()=>async(args)=>{let query3=parseArgs(args??{}),response=await fetch(`/${SERVER_ACTIONS_PREFIX}/${componentName}/${actionName.toLowerCase()}${query3}`,{method:httpVerb});switch(returnType){default:case"HTML":return response.text();case"JSON":return response.json()}}})};function parseArgs(args){let url=new URL("http://a.com");return Object.entries(args).forEach(([k,v])=>url.searchParams.set(k,v)),url.search}function createActionEndpoint(httpVerb,componentName,actionName,returnType){actionEndpoints.push({httpVerb,returnType,componentName,actionName:actionName.toLowerCase(),res:async(ctx)=>{return(await import(`../web/components/${componentName}/${componentName}.server.ts`).catch((e)=>console.error(e)))[actionName.toLowerCase()](ctx)}})}class CreateRoom extends LitElement{constructor(){super(...arguments);this.roomName=""}get chatURL(){return`/chat/${this.roomName}`}get pageDetail(){return`chatRoom#${this.roomName}`}async roomCreation(e){e.preventDefault(),await this.create({roomName:this.roomName}),location.assign(this.chatURL)}render(){return html`
      <form @submit=${this.roomCreation}>
        <input 
          type="text" 
          @change=${({currentTarget:{value}})=>this.roomName=value} 
          .value=${this.roomName} 
          placeholder="Enter a room name" />
          <button type="submit">test</button>
      </form>
    `}}__legacyDecorateClassTS([state(),__legacyMetadataTS("design:type",String)],CreateRoom.prototype,"roomName",void 0),__legacyDecorateClassTS([action({returnType:"HTML"}),__legacyMetadataTS("design:type",typeof ActionResult==="undefined"?Object:ActionResult)],CreateRoom.prototype,"create",void 0),CreateRoom=__legacyDecorateClassTS([customElement("create-room")],CreateRoom);class MutationController{constructor(host,{target,config,callback,skipInitial}){if(this._targets=new Set,this._skipInitial=!1,this._unobservedUpdate=!1,this._host=host,target!==null)this._targets.add(target??host);if(this._config=config,this._skipInitial=skipInitial??this._skipInitial,this.callback=callback,isServer)return;if(!window.MutationObserver){console.warn("MutationController error: browser does not support MutationObserver.");return}this._observer=new MutationObserver((records)=>{this.handleChanges(records),this._host.requestUpdate()}),host.addController(this)}handleChanges(records){this.value=this.callback?.(records,this._observer)}hostConnected(){for(let target of this._targets)this.observe(target)}hostDisconnected(){this.disconnect()}async hostUpdated(){let pendingRecords=this._observer.takeRecords();if(pendingRecords.length||!this._skipInitial&&this._unobservedUpdate)this.handleChanges(pendingRecords);this._unobservedUpdate=!1}observe(target){this._targets.add(target),this._observer.observe(target,this._config),this._unobservedUpdate=!0,this._host.requestUpdate()}disconnect(){this._observer.disconnect()}}var generateMap=(list,start,end)=>{let map=new Map;for(let i=start;i<=end;i++)map.set(list[i],i);return map};class RepeatDirective extends Directive{constructor(partInfo){super(partInfo);if(partInfo.type!==PartType.CHILD)throw Error("repeat() can only be used in text expressions")}_getValuesAndKeys(items,keyFnOrTemplate,template){let keyFn;if(template===void 0)template=keyFnOrTemplate;else if(keyFnOrTemplate!==void 0)keyFn=keyFnOrTemplate;let keys=[],values=[],index=0;for(let item of items)keys[index]=keyFn?keyFn(item,index):index,values[index]=template(item,index),index++;return{values,keys}}render(items,keyFnOrTemplate,template){return this._getValuesAndKeys(items,keyFnOrTemplate,template).values}update(containerPart,[items,keyFnOrTemplate,template]){let oldParts=getCommittedValue(containerPart),{values:newValues,keys:newKeys}=this._getValuesAndKeys(items,keyFnOrTemplate,template);if(!Array.isArray(oldParts))return this._itemKeys=newKeys,newValues;let oldKeys=this._itemKeys??=[],newParts=[],newKeyToIndexMap,oldKeyToIndexMap,oldHead=0,oldTail=oldParts.length-1,newHead=0,newTail=newValues.length-1;while(oldHead<=oldTail&&newHead<=newTail)if(oldParts[oldHead]===null)oldHead++;else if(oldParts[oldTail]===null)oldTail--;else if(oldKeys[oldHead]===newKeys[newHead])newParts[newHead]=setChildPartValue(oldParts[oldHead],newValues[newHead]),oldHead++,newHead++;else if(oldKeys[oldTail]===newKeys[newTail])newParts[newTail]=setChildPartValue(oldParts[oldTail],newValues[newTail]),oldTail--,newTail--;else if(oldKeys[oldHead]===newKeys[newTail])newParts[newTail]=setChildPartValue(oldParts[oldHead],newValues[newTail]),insertPart(containerPart,newParts[newTail+1],oldParts[oldHead]),oldHead++,newTail--;else if(oldKeys[oldTail]===newKeys[newHead])newParts[newHead]=setChildPartValue(oldParts[oldTail],newValues[newHead]),insertPart(containerPart,oldParts[oldHead],oldParts[oldTail]),oldTail--,newHead++;else{if(newKeyToIndexMap===void 0)newKeyToIndexMap=generateMap(newKeys,newHead,newTail),oldKeyToIndexMap=generateMap(oldKeys,oldHead,oldTail);if(!newKeyToIndexMap.has(oldKeys[oldHead]))removePart(oldParts[oldHead]),oldHead++;else if(!newKeyToIndexMap.has(oldKeys[oldTail]))removePart(oldParts[oldTail]),oldTail--;else{let oldIndex=oldKeyToIndexMap.get(newKeys[newHead]),oldPart=oldIndex!==void 0?oldParts[oldIndex]:null;if(oldPart===null){let newPart=insertPart(containerPart,oldParts[oldHead]);setChildPartValue(newPart,newValues[newHead]),newParts[newHead]=newPart}else newParts[newHead]=setChildPartValue(oldPart,newValues[newHead]),insertPart(containerPart,oldParts[oldHead],oldPart),oldParts[oldIndex]=null;newHead++}}while(newHead<=newTail){let newPart=insertPart(containerPart,newParts[newTail+1]);setChildPartValue(newPart,newValues[newHead]),newParts[newHead++]=newPart}while(oldHead<=oldTail){let oldPart=oldParts[oldHead++];if(oldPart!==null)removePart(oldPart)}return this._itemKeys=newKeys,setCommittedValue(containerPart,newParts),noChange}}var repeat=directive(RepeatDirective);var s=class extends Error{constructor(e,n){super(n+"");this.status=e,this.value=n}},i=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,o=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,c=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,u=(t)=>t.trim().length!==0&&!Number.isNaN(Number(t)),d2=(t)=>{if(typeof t!="string")return null;let r=t.replace(/"/g,"");if(i.test(r)||o.test(r)||c.test(r)){let e=new Date(r);if(!Number.isNaN(e.getTime()))return e}return null},a=(t)=>{let r=t.charCodeAt(0),e=t.charCodeAt(t.length-1);return r===123&&e===125||r===91&&e===93},p=(t)=>JSON.parse(t,(r,e)=>{return d2(e)||e}),g=(t)=>{if(!t)return t;if(u(t))return+t;if(t==="true")return!0;if(t==="false")return!1;let r=d2(t);if(r)return r;if(a(t))try{return p(t)}catch{}return t},S=(t)=>{let r=t.data.toString();return r==="null"?null:g(r)};var F=class{constructor(t){this.url=t,this.ws=new WebSocket(t)}ws;send(t){return Array.isArray(t)?(t.forEach((n)=>this.send(n)),this):(this.ws.send(typeof t=="object"?JSON.stringify(t):t.toString()),this)}on(t,n,s2){return this.addEventListener(t,n,s2)}off(t,n,s2){return this.ws.removeEventListener(t,n,s2),this}subscribe(t,n){return this.addEventListener("message",t,n)}addEventListener(t,n,s2){return this.ws.addEventListener(t,(f)=>{if(t==="message"){let o2=S(f);n({...f,data:o2})}else n(f)},s2),this}removeEventListener(t,n,s2){return this.off(t,n,s2),this}close(){return this.ws.close(),this}},J=["get","post","put","delete","patch","options","head","connect","subscribe"],D=["localhost","127.0.0.1","0.0.0.0"],K=typeof FileList>"u",I=(e)=>K?e instanceof Blob:e instanceof FileList||e instanceof File,P=(e)=>{if(!e)return!1;for(let t in e)if(I(e[t])||Array.isArray(e[t])&&e[t].find(I))return!0;return!1},C=(e)=>K?e:new Promise((t)=>{let n=new FileReader;n.onload=()=>{let s2=new File([n.result],e.name,{lastModified:e.lastModified,type:e.type});t(s2)},n.readAsArrayBuffer(e)}),b=(e,t,n={},s2={})=>{if(Array.isArray(e)){for(let f of e)if(!Array.isArray(f))s2=b(f,t,n,s2);else{let o2=f[0];if(typeof o2=="string")s2[o2.toLowerCase()]=f[1];else for(let[i2,h]of o2)s2[i2.toLowerCase()]=h}return s2}if(!e)return s2;switch(typeof e){case"function":if(e instanceof Headers)return b(e,t,n,s2);let f=e(t,n);return f?b(f,t,n,s2):s2;case"object":if(e instanceof Headers)return e.forEach((o2,i2)=>{s2[i2.toLowerCase()]=o2}),s2;for(let[o2,i2]of Object.entries(e))s2[o2.toLowerCase()]=i2;return s2;default:return s2}};async function*U(e){let t=e.body;if(!t)return;let n=t.getReader(),s2=new TextDecoder;try{for(;;){let{done:f,value:o2}=await n.read();if(f)break;let i2=typeof o2=="string"?o2:s2.decode(o2);i2.includes(`

`)?yield*_(i2):yield g(i2)}}finally{n.releaseLock()}}function*_(e){let t=e.split(`

`);for(let n of t){if(n.indexOf(":")<=0){n&&(yield g(n));continue}let s2=n.split(`
`),f={};for(let o2 of s2){let i2=o2.indexOf(":");if(i2>0){let h=o2.slice(0,i2).trim(),L=o2.slice(i2+1).trim();f[h]=g(L)}}yield f}}var x=(e,t,n=[],s2)=>new Proxy(()=>{},{get(f,o2){return x(e,t,o2==="index"?n:[...n,o2],s2)},apply(f,o2,[i2,h]){if(!i2||h||typeof i2=="object"&&Object.keys(i2).length!==1||J.includes(n.at(-1))){let L=[...n],k=L.pop(),v="/"+L.join("/"),{fetcher:N=fetch,headers:R,onRequest:g2,onResponse:E,fetch:H}=t,m=k==="get"||k==="head"||k==="subscribe";R=b(R,v,h);let T=m?i2?.query:h?.query,O="";if(T){let r=(w,u2)=>{O+=(O?"&":"?")+`${encodeURIComponent(w)}=${encodeURIComponent(u2)}`};for(let[w,u2]of Object.entries(T)){if(Array.isArray(u2)){for(let y of u2)r(w,y);continue}if(u2!=null){if(typeof u2=="object"){r(w,JSON.stringify(u2));continue}r(w,`${u2}`)}}}if(k==="subscribe"){let r=e.replace(/^([^]+):\/\//,e.startsWith("https://")?"wss://":e.startsWith("http://")||D.find((w)=>e.includes(w))?"ws://":"wss://")+v+O;return new F(r)}return(async()=>{let r={method:k?.toUpperCase(),body:i2,...H,headers:R};r.headers={...R,...b(m?i2?.headers:h?.headers,v,r)};let w=m&&typeof i2=="object"?i2.fetch:h?.fetch;if(r={...r,...w},m&&delete r.body,g2){Array.isArray(g2)||(g2=[g2]);for(let l of g2){let a2=await l(v,r);typeof a2=="object"&&(r={...r,...a2,headers:{...r.headers,...b(a2.headers,v,r)}})}}if(m&&delete r.body,P(i2)){let l=new FormData;for(let[a2,c2]of Object.entries(r.body)){if(Array.isArray(c2)){for(let d3=0;d3<c2.length;d3++){let j=c2[d3];l.append(a2,j instanceof File?await C(j):j)}continue}if(K){if(Array.isArray(c2))for(let d3 of c2)l.append(a2,d3);else l.append(a2,c2);continue}if(c2 instanceof File){l.append(a2,await C(c2));continue}if(c2 instanceof FileList){for(let d3=0;d3<c2.length;d3++)l.append(a2,await C(c2[d3]));continue}l.append(a2,c2)}r.body=l}else typeof i2=="object"?(r.headers["content-type"]="application/json",r.body=JSON.stringify(i2)):i2!=null&&(r.headers["content-type"]="text/plain");if(m&&delete r.body,g2){Array.isArray(g2)||(g2=[g2]);for(let l of g2){let a2=await l(v,r);typeof a2=="object"&&(r={...r,...a2,headers:{...r.headers,...b(a2.headers,v,r)}})}}h?.headers?.["content-type"]&&(r.headers["content-type"]=h?.headers["content-type"]);let u2=e+v+O,y=await(s2?.handle(new Request(u2,r))??N(u2,r)),p2=null,S2=null;if(E){Array.isArray(E)||(E=[E]);for(let l of E)try{let a2=await l(y.clone());if(a2!=null){p2=a2;break}}catch(a2){a2 instanceof s?S2=a2:S2=new s(422,a2);break}}if(p2!==null)return{data:p2,error:S2,response:y,status:y.status,headers:y.headers};switch(y.headers.get("Content-Type")?.split(";")[0]){case"text/event-stream":p2=U(y);break;case"application/json":p2=JSON.parse(await y.text(),(a2,c2)=>{if(typeof c2!="string")return c2;return d2(c2)||c2});break;case"application/octet-stream":p2=await y.arrayBuffer();break;case"multipart/form-data":let l=await y.formData();p2={},l.forEach((a2,c2)=>{p2[c2]=a2});break;default:p2=await y.text().then(g)}return(y.status>=300||y.status<200)&&(S2=new s(y.status,p2),p2=null),{data:p2,error:S2,response:y,status:y.status,headers:y.headers}})()}return typeof i2=="object"?x(e,t,[...n,Object.values(i2)[0]],s2):x(e,t,n)}}),Q=(e,t={})=>typeof e=="string"?(t.keepDomain||(e.includes("://")||(e=(D.find((n)=>e.includes(n))?"http://":"https://")+e),e.endsWith("/")&&(e=e.slice(0,-1))),x(e,t)):(typeof window<"u"&&console.warn("Elysia instance server found on client side, this is not recommended for security reason. Use generic type instead."),x("http://e.ly",t,[],e));var api=Q("localhost:3000"),timeFormat=new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric",second:"numeric"});class ChatRoom extends LitElement{constructor(){super(...arguments);this.message="";this.messages=[]}chat;chatScrollObserver=new MutationController(this,{config:{attributes:!1,childList:!0,subtree:!1},callback:(mutationList,observer)=>{for(let mutation of mutationList)if(mutation.addedNodes[0].nodeType!==Node.COMMENT_NODE)this.$chatScrollable.scrollTo({top:this.$chatScrollable.scrollHeight,behavior:"smooth"})}});connectedCallback(){super.connectedCallback(),this.chat=api?.chat.subscribe({query:{roomId:this.roomId}}),this.chat.subscribe((message)=>{this.messages=this.messages.concat([message.data])}),this.chatScrollObserver.observe(this.$chatScrollable)}disconnectedCallback(){super.disconnectedCallback(),this.chatScrollObserver.disconnect(),this.chat.close()}async sendNewMessage(e){if(e.preventDefault(),e.target.message===""){e.stopImmediatePropagation();return}this.chat.send({user:"me",message:e.target.message,roomId:this.roomId}),e.target.message=""}timeFormatOf(value){return timeFormat.format(value)}firstUpdated(){this.$newMessage.focus()}static styles=css`
  :host {
    display: contents;
  }
  .chat-area {
      flex: 1;
      background-color: var(--bg-dark-3);
      display: flex;
      flex-direction: column;
      min-width: 0; /* Prevents flex overflow */
  }

  .chat-header {
      height: 48px;
      padding: 0 16px;
      display: flex;
      align-items: center;
      box-shadow: 0 1px 0 rgba(4,4,5,0.2);
      color: var(--text-header);
      font-weight: bold;
  }
  .chat-header span {
      color: var(--text-muted);
      margin-right: 8px;
      font-size: 20px;
      font-weight: 400;
  }

  .messages-wrapper {
      flex: 1;
      overflow-y: auto;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
  }

  /* Message Row */
  .message-row {
      display: flex;
      padding: 6px 16px; /* No bubbles, just padding */
      margin-top: 10px;
      position: relative;
  }

  .message-row:hover {
      background-color: rgba(4, 4, 5, 0.07);
  }

  .msg-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 16px;
      flex-shrink: 0;
      background-size: cover;
      background-color: #555;
      cursor: pointer;
  }

  .msg-content {
      display: flex;
      flex-direction: column;
      min-width: 0;
  }

  .msg-header {
      display: flex;
      align-items: baseline;
      margin-bottom: 4px;
  }

  .username {
      font-size: 16px;
      font-weight: 500;
      margin-right: 8px;
      cursor: pointer;
  }

  .username:hover { text-decoration: underline; }

  .timestamp {
      font-size: 12px;
      color: var(--text-muted);
  }

  .msg-text {
      font-size: 15px;
      line-height: 1.375rem;
      color: var(--text-normal);
      white-space: pre-wrap;
  }

  /* Specific Role Colors from your palette */
  .role-admin { color: var(--c-pink); }
  .role-mod { color: var(--c-purple); }
  .role-user { color: var(--c-bright-blue); }

  /* Mention Highlight */
  .mention {
      background-color: rgba(21, 93, 252, 0.1); /* Bright Blue low opacity */
      color: #AAB9FF;
      border-radius: 3px;
      padding: 0 2px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.1s;
  }
  .mention:hover {
      background-color: rgba(21, 93, 252, 0.3);
      color: white;
  }

  /* Full Message Highlight (e.g. when mentioned) */
  .message-row.mentioned {
      background-color: rgba(251, 100, 182, 0.1); /* Pink tint */
      border-left: 2px solid var(--c-pink);
      padding-left: 14px; /* Adjust for border */
  }

  /* New Message Divider */
  .divider {
      margin: 20px 16px;
      border-top: 1px solid var(--c-pink);
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
  }
  .divider span {
      background-color: var(--bg-dark-3);
      color: var(--text-muted);
      font-size: 12px;
      padding: 0 10px;
      font-weight: 700;
      color: var(--c-pink);
      position: absolute;
      top: -9px;
  }

  /* --- INPUT AREA --- */
  .input-container {
      padding: 0 16px 24px 16px;
      background-color: var(--bg-dark-3);
  }

  .input-box {
      background-color: var(--bg-dark-4);
      border-radius: 8px;
      padding: 12px 16px;
      display: flex;
      align-items: center;
  }

  .plus-icon {
      color: var(--text-muted);
      margin-right: 16px;
      cursor: pointer;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--text-muted);
      color: var(--bg-dark-4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
  }
  .plus-icon:hover { color: var(--text-header); }

  .chat-input {
      background: transparent;
      border: none;
      color: var(--text-normal);
      flex: 1;
      outline: none;
      font-size: 15px;
  }

  /* Icons on right of input */
  .input-icons {
      display: flex;
      gap: 12px;
      color: var(--text-muted);
      font-size: 20px;
  }
  .input-icons span { cursor: pointer; }
  .input-icons span:hover { color: var(--text-header); }
  `;render(){return html`
      <main class="chat-area">
        <div class="chat-header">
            <span>#</span> ${this.roomId}
        </div>

        <div class="messages-wrapper" id="chat-scrollable">
          ${repeat(this.messages,(item)=>item.message,(item)=>html`
            <div class="message-row">
              <div class="msg-avatar" style="background-color: orange;"></div>
              <div class="msg-content">
                <div class="msg-header">
                  <span class="username role-admin">${item.user}</span>
                  <span class="timestamp">Today at ${this.timeFormatOf(item?.sentAt)}</span>
                </div>
                <div class="msg-text">${item.message}</div>
              </div>
            </div>
          `)}
        </div>

        <form @submit=${this.sendNewMessage} class="input-container">
          <div class="input-box">
            <input id="new-message"
              @change=${(e)=>this.message=e.target.value}
              type="text" class="chat-input" placeholder="Message #general">
            <div class="input-icons">
              <button type='submit' @click=${this.sendNewMessage}></button>
              <span></span>
              <span></span>
            </div>
          </div>
        </form>
        <chat-form @click=${this.sendNewMessage} .roomId=${this.roomId}></chat-form>
    </main>
    `}}__legacyDecorateClassTS([query("#chat-scrollable"),__legacyMetadataTS("design:type",typeof HTMLElement==="undefined"?Object:HTMLElement)],ChatRoom.prototype,"$chatScrollable",void 0),__legacyDecorateClassTS([query("#new-message"),__legacyMetadataTS("design:type",typeof HTMLInputElement==="undefined"?Object:HTMLInputElement)],ChatRoom.prototype,"$newMessage",void 0),__legacyDecorateClassTS([query("chat-form"),__legacyMetadataTS("design:type",Object)],ChatRoom.prototype,"$chatForm",void 0),__legacyDecorateClassTS([property({type:String}),__legacyMetadataTS("design:type",String)],ChatRoom.prototype,"message",void 0),__legacyDecorateClassTS([property({type:String,reflect:!0}),__legacyMetadataTS("design:type",String)],ChatRoom.prototype,"roomId",void 0),__legacyDecorateClassTS([state(),__legacyMetadataTS("design:type",typeof Array==="undefined"?Object:Array)],ChatRoom.prototype,"messages",void 0),ChatRoom=__legacyDecorateClassTS([customElement("chat-room")],ChatRoom);class ChatForm extends LitElement{constructor(){super(...arguments);this.message=""}async sendNewMessage(e){if(this.message===""){e.stopImmediatePropagation();return}e.preventDefault(),this.$newMessage.value=""}render(){return html`<form @submit=${this.sendNewMessage} class="input-container">
      <div class="input-area">
          <div class="input-wrapper" id="main-input-box">
              <input type="text" class="message-input" id="msg-input" placeholder="Message #nightfox-theme">
              <div class="input-icons">
                  <span>GIF</span>
                  <span></span>
              </div>
          </div>
      </div>
      <!--<div class="input-box">
        <input id="new-message"
          @change=${(e)=>this.message=e.target.value}
          type="text" class="chat-input" placeholder="Message #general">
        <div class="input-icons">
          <button type='submit' @click=${this.sendNewMessage}></button>
          <span></span>
          <span></span>
        </div>
      </div>-->
    </form>`}static styles=css`
    /* --- Input Area --- */
    .input-area {
        padding: 20px 25px 30px 25px;
        background-color: var(--theme-bg);
        flex-shrink: 0;
        /* SEPARATOR LINE REQUESTED */
        border-top: 1px solid var(--theme-border);
    }

    .input-wrapper {
        position: relative;
        background-color: var(--theme-surface); /* Darker block */
        border-radius: 8px;
        padding: 0 15px;
        border: 2px solid transparent;
        transition: all 0.3s ease;
    }

    .message-input {
        width: 100%;
        background: transparent;
        border: none;
        padding: 15px 0;
        color: var(--theme-text-header);
        font-family: var(--font-content);
        font-size: 1rem;
        outline: none;
    }

    .message-input::placeholder {
        color: var(--theme-text-muted);
    }

    /* Input Interactions */
    .input-wrapper:hover {
        border-color: rgba(209, 105, 131, 0.5); /* Pinkish alpha */
        box-shadow: 0 0 10px rgba(209, 105, 131, 0.1);
    }

    .input-wrapper:focus-within {
        border-color: var(--accent-cyan);
        box-shadow: 0 0 15px rgba(99, 205, 207, 0.2);
        background-color: var(--theme-surface-hover);
    }

    @keyframes urgentPulse {
        0% { box-shadow: 0 0 0 rgba(0,0,0,0); border-color: transparent; }
        50% { box-shadow: 0 0 15px var(--accent-pink); border-color: var(--accent-pink); }
        100% { box-shadow: 0 0 0 rgba(0,0,0,0); border-color: transparent; }
    }

    .input-wrapper.pulse-active {
        animation: urgentPulse 2s infinite;
    }

    .input-icons {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        gap: 15px;
        color: var(--theme-text-muted);
        cursor: pointer;
    }

    .input-icons span:hover {
        color: var(--accent-yellow);
    }
  `}__legacyDecorateClassTS([query("#new-message"),__legacyMetadataTS("design:type",typeof HTMLInputElement==="undefined"?Object:HTMLInputElement)],ChatForm.prototype,"$newMessage",void 0),__legacyDecorateClassTS([property({type:String,reflect:!0,attribute:!0}),__legacyMetadataTS("design:type",String)],ChatForm.prototype,"message",void 0),__legacyDecorateClassTS([property({type:String}),__legacyMetadataTS("design:type",String)],ChatForm.prototype,"roomId",void 0),ChatForm=__legacyDecorateClassTS([customElement("chat-form")],ChatForm);class SigninForm extends LitElement{connectedCallback(){super.connectedCallback(),window.onGoogleLibraryLoad=()=>{this.setupGoogleAuth()}}setupGoogleAuth(){globalThis.google.accounts.id.initialize({client_id:"936754708086-4motrn01ufkc2fh5c90hkavvlobj9b71.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),auto_select:!0,cancel_on_tap_outside:!0,color_scheme:"dark"}),globalThis.google.accounts.id.renderButton(this.socialGoogle,{theme:"outline",size:"large",shape:"pill"}),globalThis.google.accounts.id.prompt()}handleCredentialResponse(response){console.log("Encoded JWT ID token: "+response.credential)}render(){return html`
      <div id="social-google"></div>`}}__legacyDecorateClassTS([query("#social-google"),__legacyMetadataTS("design:type",typeof HTMLButtonElement==="undefined"?Object:HTMLButtonElement)],SigninForm.prototype,"socialGoogle",void 0),__legacyDecorateClassTS([property({type:Object}),__legacyMetadataTS("design:type",Object)],SigninForm.prototype,"auth2",void 0),SigninForm=__legacyDecorateClassTS([customElement("signin-form")],SigninForm);
